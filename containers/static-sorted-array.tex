%-*-latex-*-
\sectionthree{Static sorted array}
\begin{python0}
from solutions import *; clear()
\end{python0}

What if your static array is always sorted?

\subsection{Insert}

If you have to insert a value at an index position $i$,
the runtime is still the same as the case of a static unsorted array.
(Think about it. Remember the array must be sorted.
Technically, since the array is sorted, you don't provide an
index. We say that container is \defone{self-organizing}.
But you can also allow the user to specify an index,
with the caveat that the user knows what he/she is doing.)

\subsection{Delete}

If you have to delete a value at an index position $i$,
the runtime is still the same as the case of a static unsorted array.
(Right?)

\subsection{Search}

In this case, since the array is sorted, instead of scanning the
array left-to-right, you would use binary search.
The worse runtime (in fact also the average) is
\[
O(\lg n)
\]
Of course if the value you're looking for is exactly in the middle of the
array (in the sense that the first probe of binary search hits that value),
then the runtime is
\[
O(1)
\]
\begin{longtable}{|l|c|c|c|}
\hline
Sorted array & Best   & Average      & Worse  \\* 
\hline\hline
Insert       & $O(1)$ & $O(n)$       & $O(n)$ \\*
Delete       & $O(1)$ & $O(n)$       & $O(n)$ \\*
Search       & $O(1)$ & $O(\lg n)$ & $O(\lg n)$ \\* 
\hline
\end{longtable}


\begin{ex}
Write a template \verb!SortedArray! class with the following 
methods:
\begin{console}[fontsize=\footnotesize]
void insert(T key);
void delete(T key);
int  search(T key); // returns index or -1 (if not found)
T    operator[](int index) const;
T &  operator[](int index);
\end{console}
Do not allow duplicate values in the \verb!SortedArray! object.
During an \verb!insert!, if the value to be inserted is already in the 
object, throw a \verb!DuplicateValue! exception object.
Set the maximum capacity of your \verb!Array! objects to 1000000.
Collect timing data for the following scenarios for 
\verb!SortedArray< int >! objects:
\begin{itemize}
\item What is the time taken to insert a value when
$n = 100000$, $200000$, $300000$, $400000$, ..., $1000000$?
\item What is the time taken to delete the value at a given index position
when
$n = 100000$, $200000$, $300000$, $400000$, ..., $1000000$?
\item What is the time taken to search for a value when
$n = 100000$, $200000$, $300000$, $400000$, ..., $1000000$?
\item What is the time taken to access a value at an index position when
$n = 100000$, $200000$, $300000$, $400000$, ..., $1000000$?
\end{itemize}
Make a plot.
For your experiments, make sure your array contains distinct values.
\qed
\end{ex}

\begin{ex}
For the case of sorted and unsorted \textit{integer} array classes, 
i.e., not template classes, note that
a sorted integer array is an integer array.
Try writing \verb!IntArray! class and \verb!SortedIntArray! classes
using inheritance.
\qed
\end{ex}
