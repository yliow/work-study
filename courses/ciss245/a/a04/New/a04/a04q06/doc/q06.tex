%-*-latex-*-
  [Pointers and memory management]
  
The following is a practice on using pointers and
arrays in the free store.

Because your cellphone/smartphone went off in your history class,
your History prof has given you the following punishment.

You are sent off to a 
mansion with $n$ doors.
\begin{enumerate}[nosep]

  \li You run from door 0 to door $n-1$ and open all of them.

  \li Next, you run from door $n - 1$ to door 0 and close every \textit{other}
  door.

  \li Next, you run from door $0$ to door $n-1$ opening every \textit{third}
  door.

  \li Next, you run from door $n-1$ to $0$, closing every \textit{fourth} door.

  \li Etc. You stop if a run would only open or close one door.

\end{enumerate}
At the end of the above process, you report to your History prof how many
doors are open.

Here's an example. Suppose $n = 10$.
\begin{enumerate}[nosep]
  \li You run from door 0 to door $n - 1 = 9$ and open all of them, i.e.,
  you open doors 0, 1, 2, 3, 4, 5, 6, 7, 8, 9.
  
  \li Then you close doors 9, 7, 5, 3, 1.
  
  \li Then you open doors 0, 3, 6, 9.
  (Note: Door 6 is already open. It's OK to open a door that is open.) 
  
  \li Then you close doors 9, 5, 1.
  
  \li Then you open doors 0, 5.
  
  \li Then you close doors 9, 3.
  
  \li Then you open doors 0, 7.
  
  \li Then you close doors 9, 1.
  
  \li Then you open doors 0, 9.
  
  \li And you stop because at this stage if you want to close doors, you can
  only close door 9.

\end{enumerate}
(The above tells you what I have always mentioned to you:
concrete examples are best for understanding general/abstract statements.)  

Besides programming, you now know something about the dangers of
leaving your smartphone on, right?
The above won't happen in my classes since the punishment is to buy
donuts for everyone for the next class.

Complete the following program.
Note that you must use the skeleton code.

\myincludesrc{a04q06/skel/main.cpp}

You are very strongly
advised to do several test cases by hand and use the test cases
to help you check your program.
You might want to check with others in the class on your test data.
Of course passing some tests does not necessarily mean your program is
absolutely correct.
But the more tests you do the greater the likelihood that your
program might be correct.

\textsc{Note.}
Extra DIY challenge.
Suppose I allow you to not use the skeleton code.
Can you write a function that is faster?
This problem has been a 245 assignment question for at least
10 years.
I think only one student mentioned to me that something
is very fishy about this problem.
Hidden in this problem is something very deep in math.
With lots of experiments, you might see a pattern.
But the question is: Does the pattern really hold for all $n$? And why?

