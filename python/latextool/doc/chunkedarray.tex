\subsection{chunkedarray}

This is for list of lists.

\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, grid, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                 arr=[[2],[1,0],[5,3],[4,6]])
p.add(s)
p.add(grid, x0=0, y0=0, x1=7, y1=2)
print(p)
""", print_source=True)
\end{python}

\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                 pipewidth=0.3,
                 pipeheight=1,
                 arr=[[2,2,2,2],[1,0],[5,3],[4,6]])
p.add(s)
print(p)
""", print_source=True)
\end{python}



One empty list in front:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                   arr=[[],[1,0],[3,5],[4,6]])
p.add(s)
print(p)
""", print_source=True)
\end{python}



2 empty list in front:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=1,
                 cellheight=0.6,
                   arr=[[],[],[1,0],[3,5],[4,6]])
p.add(s)
print(p)
""", print_source=True)
\end{python}




3 empty list in front:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=1.6,
                 cellheight=0.6,
                 arr=[[],[],[],[1,0],[3,5],[4,6]])
p.add(s)
print(p)
""", print_source=True)
\end{python}



One empty list in the middle:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                 arr=[[2],[1,0],[],[4,6]])
p.add(s)
print(p)
""", print_source=True)
\end{python}



1 empty list at the end:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, grid, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                 arr=[[2,3],[1,0],[4,5],[]])
p.add(s)
print(p)
""", print_source=True)
\end{python}



2 empty lists at the end:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, grid, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                 arr=[[2,3],[1,0],[4,5],[], []])
p.add(s)
print(p)
""", print_source=True)
\end{python}



2 empty lists at the end and in front:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, grid, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                 arr=[[],[],[2,3],[1,0],[4,5],[],[]])
p.add(s)
print(p)
""", print_source=True)
\end{python}



3 empty lists in front:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, grid, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                 arr=[[],[],[],[2,3],[1,0],[4,5],[], [],[]])
p.add(s)
print(p)
""", print_source=True)
\end{python}










Two empty lists in the middle:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, grid, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=1.2,
                 cellheight=0.6,
                 arr=[[2,3],[6,7],[],[],[1,0],[4,5]])
p.add(s)
print(p)
""", print_source=True)
\end{python}



3 empty lists in the middle:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, grid, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=1.2,
                 cellheight=0.6,
                 arr=[[2,3],[6,7],[],[],[],[1,0],[4,5]])
p.add(s)
print(p)
""", print_source=True)
\end{python}





Swaps:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, grid, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                 arr=[[2],[1,0],[5,3],[4,6]],
                 swaps=[(0,1,1),(0,2,2), (0,3,3),(2,4,-1)])
p.add(s)
print(p)
""", print_source=True)
\end{python}




\newpage
Labels for chunks
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, grid, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                 arr=[[2],[1,0],[5],[],[3,4,6],[0,3,2]],
                 chunklabels=['a', '', 'b', 'c','d'])
p.add(s)
print(p)
""", print_source=True)
\end{python}

Labels for chunks with x,y:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, chunkedarray, Grid
p = Plot()
s = chunkedarray(x=2, y=2,
                 cellwidth=0.6,
                 cellheight=0.6,
                 arr=[[2],[1,0],[5],[],[3,4,6],[0,3,2]],
                 swaps=[(7,8,1),(8,9,-1)],
                 chunklabels=['a', '', 'b', 'c','d'])
p.add(s)
p += Grid(x0=-1,y0=-1,x1=10,y1=4)
print(p)
""", print_source=True)
\end{python}




Labels with heights:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, grid, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                 arr=[[2],[1,0],[5],[],[3,4,6],[0,3,2]],
                 chunklabels=['a', '', 'b', ('c',2),('d',-1)])
p.add(s)
print(p)
""", print_source=True)
\end{python}




Using chunkedarray as array with swaps:
\begin{python}
from latextool_basic import execute
execute(r"""
from latextool_basic import Plot, grid, chunkedarray
p = Plot()
s = chunkedarray(cellwidth=0.6,
                 cellheight=0.6,
                 arr=[[1,3,5,2,4,5]],
                 swaps=[(0,3,1), (1,2,0.75), (2,5,-1)]
)
p.add(s)
print(p)
""", print_source=True)
\end{python}


TODO: unify API for chunked and regulars.

TODO: avoid collision of arrow tips and edge crossing.

TODO: label arrow

TODO: label array
