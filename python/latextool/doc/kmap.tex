\section{K-maps}

Drawing closed rect groups.
Specify 2 rects: the bottom-left rect and the top-right rect.

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[0,1,1,1],
     [0,0,1,0],
     [0,0,0,0],
     [0,1,1,0],
     ]

C = table2(p, m, width=0.7, height=0.7,
           rownames=['00','01','11','10'],
           colnames=['00','01','11','10'],
           rowlabel='WX', collabel='YZ')

#p += kmap_rect(C[3][0], C[2][1], linecolor='red')
#p += kmap_rect(C[1][1], C[0][1], linecolor='blue')
#p += kmap_rect(C[1][0], C[0][0], linecolor='green')
#p += kmap_rect(C[3][2], C[0][2], linecolor='green')
#p += kmap_rect(C[3][0], C[3][3], linecolor='yellow')
#p += kmap_rect(C[0][3], linecolor='cyan')
#p += kmap_rect(C[2][2], C[2][3], linecolor='magenta')

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'''{\scriptsize %s }''' % console(s))
\end{python}




\newpage
K-map groups with 1 open side.

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 6, 1)
m = [[0,1,1,0,0,1,1,1],
     [0,1,0,1,1,1,1,1],
     [1,0,1,1,0,0,0,0],
     [0,1,1,1,1,0,1,0],
     ]

C = table2(p, m, width=0.7, height=0.7,
           rownames=['00','01','11','10'],
           colnames=['00','01','11','10'],
           rowlabel='WX', collabel='YZ')

kmap_WW(p, C[0][4], linecolor='red')
kmap_WW(p, C[2][4], C[1][6], linecolor='red')
kmap_WW(p, C[3][4], C[3][6], linecolor='red')

kmap_EE(p, C[0][7], linecolor='yellow')
kmap_EE(p, C[1][7], C[1][7], linecolor='yellow')
kmap_EE(p, C[3][6], C[2][7], linecolor='yellow')

kmap_SS(p, C[3][0], linecolor='pink')
kmap_SS(p, C[3][1], C[3][2], linecolor='pink')
kmap_SS(p, C[3][2], C[2][3], linecolor='pink')

kmap_NN(p, C[0][0], linecolor='green')
kmap_NN(p, C[0][1], C[0][2], linecolor='green')
kmap_NN(p, C[1][2], C[0][3], linecolor='green')

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}




\newpage
K-map groups with two open sides.

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[0,1,1,0],
     [0,1,0,1],
     [1,0,1,1],
     [0,1,1,1],
     ]

C = table2(p, m, width=0.7, height=0.7,
           rownames=['00','01','11','10'],
           colnames=['00','01','11','10'],
           rowlabel='WX', collabel='YZ')

kmap_NW(p, C[0][0], linecolor='magenta')
kmap_NW(p, C[1][0], C[0][1], linecolor='magenta')

kmap_NE(p, C[0][3], linecolor='cyan')
kmap_NE(p, C[1][2], C[0][3], linecolor='cyan')

kmap_SW(p, C[3][0], linecolor='yellow')
kmap_SW(p, C[3][0], C[2][1], linecolor='yellow')

kmap_SE(p, C[3][3], linecolor='red')
kmap_SE(p, C[3][2], C[2][3], linecolor='red')
kmap_SE(p, C[3][1], C[3][3], linecolor='blue')

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r"{\scriptsize %s}" % console(s))
\end{python}


\newpage
K-maps.

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[0,1,1,0],
     [0,1,0,1],
     [1,0,1,1],
     [0,1,1,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')
         
print(p)

""".strip()

from latextool_basic import *
exec(s)
print(r"{\scriptsize %s}" % console(s))
\end{python}



\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[0,1,0,0],
     [0,1,0,1],
     [1,1,0,1],
     [0,1,0,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')
         
print(p)

""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}



\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[0,1,0,1],
     [0,1,0,0],
     [1,1,1,1],
     [0,1,0,0],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')
         
print(p)

""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}




\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[0,1,0,1],
     [0,0,0,0],
     [1,0,0,1],
     [0,1,0,0],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[0,1,0,0],
     [1,0,0,1],
     [1,0,0,1],
     [0,1,0,0],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[1,1,0,1],
     [1,0,0,1],
     [1,0,0,1],
     [1,1,0,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[1,1,0,1],
     [1,0,0,1],
     [1,1,0,1],
     [1,1,0,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[1,1,1,1],
     [0,0,0,0],
     [0,1,0,0],
     [1,1,1,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[1,1,1,1],
     [1,0,0,1],
     [1,0,0,1],
     [1,1,1,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
\end{python}

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[1,0,0,1],
     [0,0,1,0],
     [0,1,0,0],
     [1,0,0,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}


\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[1,0,1,1],
     [0,1,1,0],
     [0,1,0,0],
     [1,0,0,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}


\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[1,1,1,1],
     [1,1,1,1],
     [1,1,1,1],
     [1,1,1,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}



\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,1,0],
     [1,1,1,0],
     [0,1,1,1],
     [0,0,1,0],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}



\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
#p += Grid(-2, -3, 3, 1)
m = [[0,1,1,0,1,1,1,1],
     [0,1,0,1,1,0,1,0],
     [0,1,1,0,0,1,0,1],
     [1,0,1,0,1,1,0,1],
     ]

C = kmap(p, m, width=1, height=1,
         rowlabel='$de$', collabel='$abc$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}







\newpage
\subsection{kmap: specify term(s) to circle}

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,'d',0],
     [1,1,1,0],
     ['d',1,1,0],
     [0,0,1,0],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         circle_terms=[1, 'd'],
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s}' % console(s))
\end{python}

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,'x',0],
     [1,1,1,0],
     ['x',1,1,0],
     [0,0,1,0],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         circle_terms=[0, 'x'],
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s}' % console(s))
\end{python}


\newpage
\subsection{kmap: 2-by-4}


\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,1,0],
     [0,1,0,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$x$', collabel='$yz$')

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}



\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,0,0],
     [1,1,1,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$x$', collabel='$yz$')

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}



\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[1,1,0,0],
     [1,1,0,0],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$x$', collabel='$yz$')

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}




\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[1,0,0,1],
     [0,0,0,0],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$x$', collabel='$yz$')

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}



\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[1,0,0,1],
     [1,0,0,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$x$', collabel='$yz$')

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}




\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[1,0,1,1],
     [1,1,0,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$x$', collabel='$yz$')

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}


\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,0,0],
     [1,1,0,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$x$', collabel='$yz$')

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}




\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,1,0],
     [0,1,1,1],
     ]

def f(((r0,r1),(c0,c1))):
    if ((r0,r1),(c0,c1)) == ((0,1),(2,2)): return 'red'
    elif ((r0,r1),(c0,c1)) == ((1,1),(1,2)): return 'green'
    elif ((r0,r1),(c0,c1)) == ((1,1),(2,3)): return 'blue'
    else:
        return 'black'
def g(t):
    return '0.1'

def h(((r0,r1),(c0,c1))):
    if ((r0,r1),(c0,c1)) == ((0,1),(2,2)): return 0.05
    elif ((r0,r1),(c0,c1)) == ((1,1),(1,2)): return 0.1
    elif ((r0,r1),(c0,c1)) == ((1,1),(2,3)): return 0.15

C = kmap(p, m, width=0.7, height=0.7,
         style_selector={'linecolor':f, 'linewidth':g, 'd':h},
         rowlabel='$x$', collabel='$yz$')

x0,y0 = C[0][2].topright(); x0 += 0.1; y0 += 1
x1,y1 = x0,y0
r = Rect(x0=x0,y0=y0,x1=x1,y1=y1,label=r'$yz$', linewidth=0)
p += r
x0,y0 = r.bottom(); y0 -= 0.2; p0 = (x0,y0)
x1,y1 = C[0][2].topright(); x1 -= 0.2; y1 -= 0.2; p1 = (x1,y1)
p += Line(points=[p0, p1], linecolor='red')

x0,y0 = C[1][1].bottom(); x0 -= 0.5; y0 -= 1
x1,y1 = x0,y0
r = Rect(x0=x0,y0=y0,x1=x1,y1=y1,label=r'$xz$', linewidth=0)
p += r
x0,y0 = r.top(); y0 += 0.2; p0 = (x0,y0)
x1,y1 = C[1][1].bottom(); y1 += 0.2; p1 = (x1,y1)
p += Line(points=[p0, p1], linecolor='green')

x0,y0 = C[1][3].bottom(); x0 += 0.5; y0 -= 1
x1,y1 = x0,y0
r = Rect(x0=x0,y0=y0,x1=x1,y1=y1,label=r'$xy$', linewidth=0)
p += r
x0,y0 = r.top(); y0 += 0.2; p0 = (x0,y0)
x1,y1 = C[1][3].bottom(); y1 += 0.2; p1 = (x1,y1)
p += Line(points=[p0, p1], linecolor='blue')

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}








\newpage
\subsection{kmap: force choice of prime implicant}

There is more than one way to select essential prime implicants.

Default:
\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[0,0,1,1],
     [0,1,1,0],
     [1,1,0,0],
     [1,0,0,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$')  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r'{\scriptsize %s }' % console(s))
\end{python}




You can force \lq\lq do not remove $((0,0),(2,3))$''
using \texttt{donotremove}
parameter:
\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
p += Grid(-2, -3, 3, 1)
m = [[0,0,1,1],
     [0,1,1,0],
     [1,1,0,0],
     [1,0,0,1],
     ]

C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$',
         donotremove=[((0,0),(2,3))])  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r"{\scriptsize %s }" % console(s))
\end{python}





\newpage
\subsection{kmap: style  selector}

You can select color and linewidth for the implicants:
\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,1,1],
     [0,1,1,0],
     [1,1,0,0],
     [1,0,0,1],
     ]

def f(((r0,r1),(c0,c1))):
    if r0==3 and c0==3:
        return 'red'
    else:
        return 'blue'
def g(((r0,r1),(c0,c1))):
    if r0==3 and c0==3:
        return 0.1
    else:
        return 0.01
    
C = kmap(p, m, width=0.7, height=0.7,
         rowlabel='$wx$', collabel='$yz$',
         style_selector={'linecolor':f, 'linewidth':g}
         )  
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r''' {\scriptsize %s } ''' % console(s))
\end{python}




\newpage
\subsection{kmap: change distance of implicant boundary to rect}

\texttt{d = 0.1}:
\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,1,1],
     [0,1,1,0],
     [1,1,0,0],
     [1,0,0,1],
     ]

def f(((r0,r1),(c0,c1))):
    if r0==3 and c0==3:
        return 'red'
    else:
        return 'blue'
def g(((r0,r1),(c0,c1))):
    if r0==3 and c0==3:
        return 0.1
    else:
        return 0.01
    
C = kmap(p, m, width=1, height=1,
         rowlabel='$wx$', collabel='$yz$',
         d=0.1,
         style_selector={'linecolor':f, 'linewidth':g}
         )

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r''' {\scriptsize %s } ''' % console(s))
\end{python}

\newpage
\texttt{d = 0.3}
\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,1,1],
     [0,1,1,0],
     [1,1,0,0],
     [1,0,0,1],
     ]

def f(((r0,r1),(c0,c1))):
    if r0==3 and c0==3:
        return 'red'
    else:
        return 'blue'
def g(((r0,r1),(c0,c1))):
    if r0==3 and c0==3:
        return 0.1
    else:
        return 0.01
    
C = kmap(p, m, width=1, height=1,
         rowlabel='$wx$', collabel='$yz$',
         d=0.3,
         style_selector={'linecolor':f, 'linewidth':g}
         )

print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r''' {\scriptsize %s } ''' % console(s))
\end{python}




\newpage
\subsection{kmap: decimal notation}

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,1,1],
     [0,1,1,0],
     [1,1,0,0],
     [1,0,0,1],
     ]
    
C = kmap(p, m, width=1.1, height=1.1,
         rowlabel='$wx$', collabel='$yz$',
         decimal=True
         )
         
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r"{\scriptsize %s}" % console(s))
\end{python}




\newpage
\subsection{kmap: decimal notation 2}

You can specify offset of decimal notation and the formatting string:

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,1,1],
     [0,1,1,0],
     [1,1,0,0],
     [1,0,0,1],
     ]
    
C = kmap(p, m, width=1.1, height=1.1,
         rowlabel='$wx$', collabel='$yz$',
         d = 0.3,
         decimal=True,
         decimal_offset=0.1,
         decimal_format=r'{\textred{\textsl{%s}}}'
         )
         
print(p)
""".strip()

from latextool_basic import *
exec(s)
print(r"{\scriptsize %s}" % console(s))
\end{python}




\newpage
\subsection{kmap: using coordinates of rects in the kmap cells}

I use a slightly large \texttt{d} value so that the implicant boundaries
avoid the decimal notation.

\begin{python}
s = r"""
from latextool_basic import *

p = Plot()
m = [[0,0,1,1],
     [0,1,1,0],
     [1,1,0,0],
     [1,0,0,1],
     ]

def f(((r0,r1),(c0,c1))):
    if r0==3 and c0==3:
        return 'red'
    else:
        return 'blue'
def g(((r0,r1),(c0,c1))):
    if r0==3 and c0==3:
        return 0.1
    else:
        return 0.01
    
C = kmap(p, m, width=1.1, height=1.1,
         rowlabel='$wx$', collabel='$yz$',
         d = 0.3,
         style_selector={'linecolor':f, 'linewidth':g},
         decimal=True
         )

x0,y0 = C[0][3].right()
x1,y1 = x0 + 2, y0
r = Rect(x0=x1,y0=y1,x1=x1+1.5,y1=y1+1,label="$x'yz'$", linewidth=0.1, linecolor='red')
p += r

x,y = C[0][3].right(); x -= 0.2
p += Line(points=[r.left(),(x,y)], endstyle='>', linecolor='red', linewidth=0.1)
x,y = C[3][3].right(); x -= 0.2
p += Line(points=[r.left(),(x,y)], endstyle='>', linecolor='red', linewidth=0.1)

print(p)
""".strip()


from latextool_basic import *
exec(s)
print(r"{\scriptsize %s}" % console(s))
\end{python}
