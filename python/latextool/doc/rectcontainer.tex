\section{RectContainer}

Horizontal array:
\begin{python}
s = r"""
from latextool_basic import *
p = Plot()

c = RectContainer(x=1, y=1)
for x in '1234578':
    c += Rect2(x0=0, y0=0, x1=1, y1=1, 
               linewidth=0.2, linecolor='red!30!white',
               label=r'{\texttt{%s}}' % x)
p += c
p += Grid()
print(p)
"""
from latextool_basic import *
print(console(s.strip()))
execute(s)
\end{python}




\newpage
\subsection{Using []}
 
\begin{python}
s = r"""
from latextool_basic import *
p = Plot()

c = RectContainer(x=1, y=1)
for x in 'abcdefgh':
    c += Rect2(x0=0, y0=0, x1=1, y1=1, 
               linewidth=0.2, linecolor='red!30!white',
               label=x)
p += c
p += bend(c[2].top(), c[5].top())
p += Grid()
print(p)
"""
from latextool_basic import *
print(console(s.strip()))
print(makeandincludegraphics(python=s))
\end{python}



\newpage
\section{name}
\begin{python}
s = r"""
from latextool_basic import *
p = Plot()

c = RectContainer(x=1, y=1, name='A')
for x in '12':
    c += Rect2(x0=0, y0=0, x1=1, y1=1, 
               linewidth=0.2, linecolor='red!30!white',
               label=r'{\texttt{%s}}' % x)

p += c
                   
d = RectContainer(x=3, y=4, name='B')
for x in '34':
    d += Rect2(x0=0, y0=0, x1=1, y1=1, 
               linewidth=0.2, linecolor='blue!30!white',
               label=r'{\texttt{%s}}' % x)
                   
p += d

p += Line(names=['A','B'], endstyle='>')
print(p)
"""
from latextool_basic import *
print(console(s.strip()))
execute(s)
\end{python}





\newpage
Left-to-right, align bottom:
\begin{python}
s = r"""
from latextool_basic import *
p = Plot()

c = RectContainer(x=1, y=1)
for i, x in enumerate([1,2,3,4,5,6]):
    c += Rect2(x0=0, y0=0, x1=1+i/4.0, y1=1+i/4.0, linecolor='red', linewidth=0.2,
               label=r'{\texttt{%s}}' % x) 
c.layout()
p += c 

# boundary of container
p += Rect2(x0=c.x0, y0=c.y0, x1=c.x1, y1=c.y1, linewidth=0.1, linecolor='green')

p += Grid()
print(p) 
""" 
from latextool_basic import console, makeandincludegraphics
print(console(s.strip()))
print(makeandincludegraphics(python=s))
\end{python}




\newpage
Align top, left-to-right:
\begin{python}
s = r"""
from latextool_basic import *
p = Plot()

c = RectContainer(x=1, y=1, align='top')
for i, x in enumerate([1,2,3,4,5,6]):
    c += Rect2(x0=0, y0=0, x1=1+i/4.0, y1=1+i/4.0, linecolor='red', linewidth=0.2,
               label=r'{\texttt{%s}}' % x) 
p += c 

# boundary of container
p += Rect2(x0=c.x0, y0=c.y0, x1=c.x1, y1=c.y1, linewidth=0.1, linecolor='green')

p += Grid()
print(p) 
""" 
from latextool_basic import *
print(console(s.strip()))
print(makeandincludegraphics(python=s))
\end{python}




\newpage
top-to-bottom, align left:
\begin{python}
s = r"""
from latextool_basic import *
p = Plot()

c = RectContainer(x=1, y=1, align='left', direction='top-to-bottom')
for i, x in enumerate([1,2,3,4,5,6]):
    c += Rect2(x0=0, y0=0, x1=1+i/4.0, y1=1+i/4.0, linecolor='red', linewidth=0.2,
               label=r'{\texttt{%s}}' % x) 
p += c 

# boundary of container
p += Rect2(x0=c.x0, y0=c.y0, x1=c.x1, y1=c.y1, linewidth=0.1, linecolor='green')

p += Grid()
print(p) 
""" 
from latextool_basic import *
print(console(s.strip()))
print(makeandincludegraphics(python=s))
\end{python}



\newpage
top-to-bottom, align right:
\begin{python}
s = r"""
from latextool_basic import *
p = Plot()

c = RectContainer(x=1, y=1, align='right', direction='top-to-bottom')
for i, x in enumerate([1,2,3,4,5,6]):
    c += Rect2(x0=0, y0=0, x1=1+i/4.0, y1=1+i/4.0, linecolor='red', linewidth=0.2,
               label=r'{\texttt{%s}}' % x) 
p += c 

# boundary of container
p += Rect2(x0=c.x0, y0=c.y0, x1=c.x1, y1=c.y1, linewidth=0.1, linecolor='green')


p += Grid()
print(p) 
""" 
from latextool_basic import *
print(console(s.strip()))
print(makeandincludegraphics(python=s))
\end{python}




\newpage
2-d stack
\begin{python}
s = r"""
from latextool_basic import *
p = Plot()

c0 = RectContainer(x=1, y=1, align='bottom', direction='left-to-right')
for i, x in enumerate([1,2,3,4,5,6]):
    c0 += Rect2(x0=0, y0=0, x1=1+i/4.0, y1=1+i/4.0, linecolor='red', linewidth=0.1,
               label=r'{\texttt{%s}}' % x)

c1 = RectContainer(x=1, y=1, align='bottom', direction='left-to-right')
for i, x in enumerate([7,8,9,10]):
    c1 += Rect2(x0=0, y0=0, x1=1+i/4.0, y1=1+i/4.0, linecolor='red', linewidth=0.1,
               label=r'{\texttt{%s}}' % x)

C = RectContainer(x=1, y=1, align='left', direction='top-to-bottom')
C += c0; c0.x = c0.x0; c0.y = c0.y0; c0.layout()
C += c1; c1.x = c1.x0; c1.y = c1.y0; c1.layout()

p += C;
p += Grid()
print(p) 
""" 
from latextool_basic import console, makeandincludegraphics
print(console(s.strip()))
print(makeandincludegraphics(python=s))
\end{python}




\newpage
\begin{python}
s = r"""
from latextool_basic import *
p = Plot()

c = RectContainer(x=1, y=1)
for i, x in enumerate([1,2,3,4,5,6]):
    if i % 2 == 0:
        c += Rect2(x0=0, y0=0, x1=1, y1=1, linecolor='red', linewidth=0.1,
                   label=r'{\texttt{%s}}' % x) 
    else: 
        c += Circle(x=0.5, y=0.5, r=0.5 + i/2, label=x, linecolor='red', linewidth=0.1)

p += c 
p += Grid()
print(p) 
""" 
from latextool_basic import *
print(console(s.strip()))
print(makeandincludegraphics(python=s))
\end{python}












\newpage
Vertical array and pointers
\begin{python}
s = r"""
L = 0.1 # line width
from latextool_basic import *
p = Plot()


v = RectContainer(x=0, y=0, align='left', direction='top-to-bottom')
for i in ['','','','']:
    v += Rect2(0,0,1,1,s=i, linewidth=0.1, linecolor='red')

p += v

h = RectContainer(x=5, y=0, align='bottom', direction='left-to-right')
for i in ['','','','']:
    h += Rect2(0,0,1,1,s=i, linewidth=0.1, linecolor='green')

p += h

p += Line(x0=v[0].centerx(), y0=v[0].centery(),
          x1=h[0].leftx(), y1=h[0].centery(),
          linewidth=0.1, linecolor='blue',
          endstyle='->', startstyle='dot', r=0.01)

p += Grid()
print(p)
"""
from latextool_basic import *
print(console(s.strip()))
execute(s)
\end{python}




\newpage
DFA/NFA:
\begin{python}
s = r"""
from latextool_basic import *
p = Plot()

h = RectContainer(x=0, y=0, align='bottom', direction='left-to-right')
for i in ['a','b','a','a','$\sqcup$','$\sqcup$','$\sqcup$',]:
    h += Rect2(0,0,1,1,
               label= r'\texttt{%s}' % i, 
               linewidth=0.1, linecolor='red')
p += h

p += Line(x0=h[-1].x1, y0=h[-1].y1, x1=h[-1].x1+0.5, y1=h[-1].y1, 
          linewidth=0.1, linecolor='red')

p += Line(x0=h[-1].x1, y0=h[-1].y0, x1=h[-1].x1+0.5, y1=h[-1].y0, 
          linewidth=0.1, linecolor='red')

dfa = Rect2(0,-4,3,-2, linewidth=0.1, linecolor='blue', label='$q_0$')
p += dfa

p += Line(x0=dfa.centerx(), y0=dfa.y1,
          x1=h[0].centerx(), y1=h[0].bottomy(),
          linewidth=0.1, linecolor='blue', endstyle='->')

p += Grid()
print(p)
"""
from latextool_basic import *
print(console(s.strip()))
execute(s)
\end{python}




\newpage
PDA:
\begin{python}
s = r"""
from latextool_basic import *
p = Plot()
h = RectContainer(x=0, y=0, align='bottom', direction='left-to-right')
for i in ['a','b','a','a','$\sqcup$','$\sqcup$','$\sqcup$',]:
    h += Rect2(0,0,1,1,
               label= r'\texttt{%s}' % i, 
               linewidth=0.1, linecolor='red')
p += h

p += Line(x0=h[-1].x1, y0=h[-1].y1, x1=h[-1].x1+0.5, y1=h[-1].y1, 
          linewidth=0.1, linecolor='red')
p += Line(x0=h[-1].x1, y0=h[-1].y0, x1=h[-1].x1+0.5, y1=h[-1].y0, 
          linewidth=0.1, linecolor='red')

pda = Rect2(0,-4,3,-2, linewidth=0.1, linecolor='blue', label='$q_0$')
p += pda

p += Line(x0=pda.centerx(), y0=pda.y1,
          x1=h[0].centerx(), y1=h[0].bottomy(),
          linewidth=0.1, linecolor='blue', endstyle='->')

v = RectContainer(x=4, y=-4, align='left', direction='top-to-bottom')
for i in ['a', '\$',]:
    v += Rect2(0,0,1,1,
           label= r'\texttt{%s}' % i, linewidth=0.1, linecolor='red')
p += v

p += Line(x0=pda.x1,y0=pda.centery(), x1=v[0].centerx(), y1=pda.centery(), 
          linewidth=0.1, linecolor='blue')
p += Line(x0=v[0].centerx(),y0=pda.centery(),x1=v[0].centerx(),y1=v[0].topy(),
          linewidth=0.1, linecolor='blue')

p += Grid()
print(p)
"""
from latextool_basic import *
print(console(s.strip()))
print(r'\newpage')
execute(s)
\end{python}

