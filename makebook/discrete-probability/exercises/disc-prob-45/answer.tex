\tinysidebar{\debug{exercises/discrete-probability/{disc-prob-45/answer.tex}}}

Let
\[
  p : S \rightarrow [0,1]
\]
be the uniform pdf $p(s) = 1/|S|$ on
where $S = \{ \HEAD, \TAIL \}^n$.

The number of runs is the related to the number of \lq\lq switch".
For instance in the sequence HHH\underline{HT}T, there's a switch
from H to T at index 3 to index 4.
Specifically, the number of runs is the number of \lq\lq switches" plus 1.

Let $X_i$ be the random variable that counts a switch at indices $i$ and $i + 1$.
Then
\[
  \sum_{0 \leq i < n - 1} X_i
\]
is the random variable that counts the total number of \lq\lq switches".
Therefore
\[
  X = 1 + \sum_{0 \leq i < n - 1} X_i
\]
is the random variable that counts the number of runs.
Therefore the average number of runs is
\[
  \E[X] = \E \left[ 1 + \sum_{0 \leq i < n - 1} X_i \right] = 1 + \sum_{0 \leq i < n - 1} \E[X_i]
\]
Note that
\[
\E[X_i] = p(H_i)p(T_{i+1}) + p(T_i)p(H_{i+1}) 
\]
where
$p(H_i)$ is the probability that the $i$--th toss is a head
and 
$p(T_i)$ is the probability that the $i$--th toss is a tail.
The events $H_i$ and $T_i$ are given by
\begin{align*}
  H_i &= \{(s_0, ..., s_{n-1}) \in S \mid s_i = \HEAD \} \\
  T_i &= \{(s_0, ..., s_{n-1}) \in S \mid s_i = \TAIL \} 
\end{align*}
We have
\[
  p(H_i) = p(T_i) = 1/2
\]
and hence
\[
  \E[X_i] = (1/2)(1/2) + (1/2)(1/2) = 1/2 
\]
Therefore the average number of runs is
\[
  \E[X] = 1 + \sum_{0 \leq i < n - 1} \E[X_i] = 1 + (n - 1)/2 = (n + 1)/2
\]
    
