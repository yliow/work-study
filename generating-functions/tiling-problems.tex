\subsection{Tiling Problems}

\begin{eg}
Suppose you are given a 2-by-$n$ area
\input{stdout08.tex}
and you need to tile it with 2-by-1 tiles that look like this:
\input{stdout09.tex}
For instance here's a tiling of a 2-by-5 area:
I put a vertical tile:
\input{stdout10.tex}
And a horizontal tile:
\input{stdout11.tex}
And another horizontal tile:
\input{stdout12.tex}
And two vertical tiles:
\input{stdout13.tex}
There. That's one tiling. Here's another:
\input{stdout14.tex}
Now let $a_n$ be the number of tilings
for a 2-by-$n$ area.
Compute $a_{20}$
Of course instead of trying to draw all the diagram up to $n = 20$,
you probably want to find a recurrence relation and then use the
recurrence relation to compute $a_{20}$.
It's even better if you can find a closed form for $a_n$ -- but
we'll do that later.
Before first you should do some experiments.
\begin{enumerate}[nosep]
  \item[(a)] Draw all the tilings for $n=1, 2, 3, 4, 5$.
  \item[(b)] Find a recurrence relation for $a_n$.
\end{enumerate}
\end{eg}

\textsc{Solution.}

(a) is simple. I'll leave that to you.

(b)
This problem is recursive, i.e., the problem of
tiling the 2-by-$n$ area contains the same problem(s), but with a
smaller area.
Here's a 2-by-$n$ area:
\input{stdout15.tex}

The left side of this area is either tiled by a vertical tile:
\input{stdout16.tex}
or by two horizontal tiles:
\input{stdout17.tex}

In the first case, the resulting area to to be tiled is a 2-by-($n-1$) area.
\input{stdout18.tex}
and clearly the number of ways to tile the remaining untiled area
is the number of ways to tile a 2-by-($n-1$) area.
Hence there are $a_{n-1}$ to tile the 2-by-$n$ area assuming that we
start with a vertical tile.

Likewise, in the second case,
the resulting area to be tiled is a 2-by-($n-2$) area.
\input{stdout19.tex}
and therefore the number of ways to the 2-by-$n$ area assuming that
we start with two horizontal tiles is $a_{n-2}$.

Altogether, since a tiling of the 2-by-$n$ area must be one of the two cases
above and since the above two cases
of tilings do not have any tiling in common, by the addition principle,
the total number of ways to tile the 2-by-$n$ area is
\[
a_n = a_{n-1} + a_{n-2}
\]
for $n \geq 2$.
Note that
\[
a_1 = 1
\]
Also, it's easy to see that
\[
a_2 = 2
\]
Hence from $a_2 = a_1 + a_0$, we get
\[
2 = 1 + a_0
\]
i.e. $a_0 = 1$.
Therefore we have
\[
a_n =
\begin{cases}
1 & \text{ if } n = 0, 1 \\
a_{n-1} + a_{n - 2} &\text{ if } n \geq 2
\end{cases}
\]
\qed

Does it surprise you that the above is the Fibonacci recurrence relation?

%Your job: find a closed form for $a_n$.


\newpage
\begin{ex}
Here's a variation of the above problem:
Suppose the 2-by-1 tiles look like this:
\input{stdout20.tex}
(i.e. there's a black dot on one side.)
Let $a_n$ be the number of tilings for this problem.
Find a recurrence relation for $a_n$ and include some base cases.
\end{ex}

INCOMING SPOILER ALERT ... SOLUTION ON NEXT PAGE

\newpage
\textsc{Solution.}

The following
\input{stdout21.tex}
\input{stdout22.tex}
can be completed with tilings of 2-by-$(n-1)$ tilings.
All these complete tilings are distinct.
The number of such tilings is $2 a_{n-1}$.

The following
\input{stdout23.tex}
\input{stdout24.tex}
\input{stdout25.tex}
\input{stdout26.tex}
can be completed with tilings of 2-by-$(n-2)$ tilings.
All these complete tilings are distinct.
The number of such tilings is $4 a_{n-2}$.

Hence
\[
a_n = 2 a_{n-1} + 4 a_{n-2} \,\,\,\,\, \text{ if } n \geq 2
\]
Furthermore, from the above, we see that $a_1 = 2$ and $a_2 = 4$.
We can compute $a_0$ from the recurrence relation:
\[
a_2 = 2 a_{1} + 4 a_{0}
\]
Therefore
$a_0 = 0$.
Hence we have
\begin{align*}
  a_n =
  \begin{cases}
    0                   & \text{ if } n = 0 \\
    2                   & \text{ if } n = 1 \\
    2 a_{n-1} + 4 a_{n-2} & \text{ if } n \geq 2
  \end{cases}
\end{align*}
\qed

\newpage\input{exercises/tiling-0/main.tex}
\newpage\input{exercises/tiling-1/main.tex}
\newpage\input{exercises/tiling-2/main.tex}
\newpage\input{exercises/tiling-3/main.tex}



\newpage
\begin{ex}
  What about the case where you cannot have 4 horizontal tiles side by side,
  i.e. the following is not allowed:
\input{stdout27.tex}
whether it is at the beginning, at the end, or somewhere in the middle.
\end{ex}

\begin{ex}
  What about the case where the following is not allowed:
\input{stdout28.tex}
whether it is at the beginning, at the end, or somewhere in the middle.
\end{ex}
